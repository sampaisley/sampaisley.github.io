<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="css/bootstrap.452.min.css">

  <title>INDEX 2</title>
  <style>
    @font-face {
      font-family: 'gill';
      src: url('type/font-gill-sans.eot');
      /* IE9 Compat Modes */
      src: url('type/font-gill-sans.woff') format('woff'),
        /* Super Modern Browsers */
        url('type/font-gill-sans.ttf') format('truetype')
    }
    .gill{
      font-family: "gill";
    }
    .bloo{
      color: #74CDF0;
    }
    .blk-bg{
      background-color: #161e33;
    }

    .foo {
      padding-left: 1em;
    }

    .red {
      color: orangered;
    }

    .green {
      color: #10b57e !important;
    }

    .bg-yell {
      background-color: orange;
    }

    .pink {
      font-weight: bold;
      color: deeppink;
    }

    .underline {
      text-decoration: underline;
    }

    .linethrough {
      text-decoration: line-through;
    }

    .long {
      margin-top: 150vh;
      margin-bottom: 70vh;
    }

    .big {
      font-size: 200%;
    }
    .huge{
      font-size: 900%;
    }

    #play {

      color: gray;
      font-size: 2em;
      cursor: pointer;
    }

    #controls {
      max-width: 300px;
    }

    .play {
      color: orangered;
    }

    .play::after {
      content: url('img/play.svg');
    }

    .pause {
      color: orangered;
    }

    .pause::after {
      content: url('img/pause.svg');
    }

    #vid1,
    #vid2,
    #vid3,
    #vidPie {
      width: 100%;
    }

  </style>
</head>

<body>

  <div class="container">
    <div class="row mt-2">
      <div class="column col-md-6">
        <p class="lef-1" role="button"><code>$('.foo').eq(2,2).text('New Text').eq(3).putClass('underline green')</code></p>
        <hr>
        <p class="lef-2" role="button"><code>$('.foo').eq(0).takeClass('pink big').eq(4,3).putClass('bg-yell')</code></p>
        <hr>
        <p class="lef-3" role="button"><code>
            $('.one').putClass('ml-3').eq(0).attribute('role', 'button').text('click me').putClass('underline').on("click", function() {

            $('.foo').eq(1).togClass(' pink linethrough ml-3');
            $('#inp').val(`click = ${q++} hoho`);

            })

            });
          </code></p>
        <hr>
        <p id="proto" class="lef-4" role="button">reset</p>
        <hr>
        <div class="ml-md-3 mr-md-3">
          <img id="me" src="img/3.webp" alt="" class="w-100 ">
         
        </div>
       



      </div>



      <div id="right-col" class="column col-md-6  border-left ">

        <form action="" id="theForm">
          <p class="foo one big pink gill">p .foo .one .pink .big .gill</p>
          <p id="foo" class="foo one pink">p .foo .one .pink</p>
          <p class="foo pink">p .foo .pink</p>
          <p class="foo pink ">p .foo .pink</p>
          <p class="foo pink ">p .foo .pink</p>
          <p class="foo pink ">p .foo .pink</p>
          <p class="foo pink ">p .foo .pink</p>
          <p class="foo pink ">p .foo .pink</p>
          <input type="text" id="inp" value="putPut" class="form-control">
          <input type="radio" name="rad" class="rad" value="room1" checked> <input type="radio" name="rad" class="rad" value="room2"> <input type="radio" name="rad" class="rad" value="room3">
          <input type="checkbox" id="check1">
          <button class="ml-1 my-3 btn btn-primary" id="clear">CLEAR</button>
          <input type="range" id="slide" min="0" value="0" step="0.1" class="custom-range">

        </form>
        <h3 id="controls" role="button" class=" play"></h3>
        <video id="vidPie" preload="auto" class="ml-md-3 mr-md-3">

          <source src="vid/room1.mp4" type="video/mp4">

          Sorry, your browser doesn't support embedded videos..
        </video>

        <span id="nowShowing"></span><span id="fwd"> ->></span>
      </div>


    </div>



    <div class="row mt-2 border-top">
      <div id="" class="column col-md-4 mt-4">

        <video id="vid1" preload="auto" poster="img/posters/room1.jpg">

          <source src="vid/room1.mp4" type="video/mp4">

          Sorry, your browser doesn't support embedded videos..
        </video>

      </div>

      <div id="" class="column col-md-4 mt-4">

        <video id="vid2" preload="auto" poster="img/posters/room2.jpg">

          <source src="vid/room2.mp4" type="video/mp4">

          Sorry, your browser doesn't support embedded videos..
        </video>

      </div>

      <div id="" class="column col-md-4 mt-4">

        <video id="vid3" preload="auto" poster="img/posters/room3.jpg">

          <source src="vid/room3.mp4" type="video/mp4">

          Sorry, your browser doesn't support embedded videos..
        </video>

      </div>



    </div>



    <div class="row mt-2 border-top">
      <h1 id="fook" class="gill bloo" role="button">Fooking Stop </h1>
        <h1 class="gill huge bloo blk-bg mt-1 p-4 text-center">GOSH *gosh*</h1>
    </div>

  </div>

  <script src="js/pQuery.js"></script>
  <script>
    "use strict";

    function setSlider() {
      let inc;
      let vid11 = document.querySelector("#vidPie");

      $('#slide').val(-20);


      vid11.addEventListener('loadedmetadata', function() {
        $('#slide').attribute("max", Math.floor(vid11.duration));
        console.log('max');

        inc = vid11.duration / 10;

        //        var duration = vid11.duration;
        //       console.log("Duration is " + duration.toFixed(2) + " seconds.")
      });




      $("#fwd").on("click", function() {
        if (vid11.currentTime < vid11.duration)

          vid11.currentTime += inc;
        $('#slide').val(vid11.currentTime);

      });




      $("#vidPie").on("timeupdate", function() {

        $('#slide').val(vid11.currentTime);

      });





      $('#slide').on("change", function() {

        vid11.currentTime = this.value;
      });



    }

    setSlider();

    //////////////////////////////////////////////////////////////////
    let q = 0;
    $('.lef-1').on("click", function() {
      $('.foo').eq(2, 2).text('New Text').eq(3).putClass('underline green');
    })

    $('.lef-2').on("click", function() {
      $('.foo').eq(0).takeClass('pink big').eq(4, 3).putClass('bg-yell');
    })

    $('.lef-3').on("click", function() {
      $('.one').putClass('ml-3').eq(0).attribute('role', 'button').text('click me').putClass('underline').on("click", function() {

        $('.foo').eq(1).togClass(' pink linethrough ml-3');
        $('#inp').val(`click = ${q++} hoho`);

      })
    })
    let divTxt = $('#right-col').text();
    $('.lef-4').on('click', function() {
      $('#right-col').text(divTxt);
      $('#inp').val('putPut');
      q = 0;
    })
    let playStop = 0;
    let vidPie = $("#vidPie");

    //$(".rad").each(function(el){
    //  console.log(el);
    //})
    $('#vidPie').on('ended', function() {
      resetControles();
    });



    $('#vidPie').on('click', function() {



      let rv = $().radioVal('rad');




      let ri = $().radioIndex('rad');

      $('.foo').eq(7).text(rv).eq(6).text(ri).eq(5).text(rv + ' booo ' + ri);
      // $('.foo', 5).text(rv + ' booo ' + ri);

      // $('.rad').isChecked(false).eq(1).isChecked(true);

      if (!$("#check1").isChecked()) {
        console.log("nooooo");
      } else {
        console.log("si!");
      }

      if (playStop++ % 2 === 0) {


        $("#me").fade(500, 0);

      } else {

        $("#me").fadeUp(600);

      }


    });


    $("#clear").on('click', function(e) {
      $("#theForm").reset();

      if (!vidPie.paused()) {
        resetControles();
      }
      setVidSrc();
      e.preventDefault();

    })

    function preloadImage(url) {
      let img = new Image();
      img.src = url;
    }


    for (let i = 1; i <= 3;) {

      preloadImage(`img/room${i++}.jpg`);

    }



    function setVidSrc() {

      let rv = $().radioVal('rad');

      $('#vidPie').attribute('src', `vid/${rv}.mp4`).attribute("poster", `img/posters/${rv}.jpg`);


    }

    function resetControles() {

      controls.togClass("pause");
      playStop2++;

    }

    setVidSrc();
    $('#nowShowing').text($().radioVal('rad'));

    $(".rad").on("click", function() {

      $('#nowShowing').text($().radioVal('rad'));

      if (!vidPie.paused()) {
        resetControles();
      }
      setVidSrc();
      setSlider();

      //  

    });

    let playStop2 = 0;
    let controls = $("#controls");

    controls.on("click", function() {

      controls.togClass("pause");
      if (playStop2++ % 2 === 0) {
        vidPie.play();

        return;
      }

      vidPie.pause();


    });

    controls.on("mouseover", function() {
      controls.putClass(" green");

    });
    controls.on("mouseout", function() {
      controls.takeClass(" green");
    });


    ///////////////////////////////////////////////////////////////////////


    let vid1 = $("#vid1");
    let vid2 = $("#vid2");
    let vid3 = $("#vid3");


    function pauseVids() {
      vid1.pause();
      vid2.pause();
      vid3.pause();
    }

    function playVid(vid, nxt) {

      vid.on("click", function() {
        pauseVids();
        this.play();

      }).on("ended", function() {
        nxt.play();
      });
    }

    playVid(vid1, vid2);
    playVid(vid2, vid3);
    playVid(vid3, vid1);


    $("#fook").on("click", pauseVids);


    $('#me').on('click', function() {
      console.log(vidPie.paused());
    })

  </script>
</body>

</html>
