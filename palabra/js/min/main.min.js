'use strict';Storage.prototype.setObj=function(a,b){return this.setItem(a,JSON.stringify(b))};Storage.prototype.getObj=function(a){return JSON.parse(this.getItem(a))};let topRow="qwertyuiop".split(""),midRow="asdfghjkl".split(""),lowRow="Enter z x c v b n m Backspace".split(" "),container=document.getElementById("container");for(let a=0;30>a;a++)container.innerHTML+='<div class="box">&nbsp;</div>';const kboardTop=document.createElement("div");kboardTop.id="kBoardTop";const kboardMid=document.createElement("div");
kboardMid.id="kBoardMid";const kboardLow=document.createElement("div");kboardLow.id="kBoardLow";kboardTop.innerHTML+='<div id="topRow">';for(let a=0;10>a;a++)kboardTop.innerHTML+=`<div data-l='${topRow[a]}' class="pad top">${topRow[a]}</div>`;kboardTop.innerHTML+="</div>";kboardMid.innerHTML+='<div id="midRow">';for(let a=0;9>a;a++)kboardMid.innerHTML+=`<div data-l='${midRow[a]}' class="pad mid">${midRow[a]}</div>`;kboardMid.innerHTML+="</div>";kboardLow.innerHTML+='<div id="lowRow">';
for(let a=0;9>a;a++)kboardLow.innerHTML=0==a?kboardLow.innerHTML+`<div id='enter' data-l='${lowRow[a]}' class="padLong low">${lowRow[a]}</div>`:8==a?kboardLow.innerHTML+`<div id='back' data-l='${lowRow[a]}' class="padLong low">&#8592;</div>`:kboardLow.innerHTML+`<div data-l='${lowRow[a]}' class="pad low">${lowRow[a]}</div>`;kboardLow.innerHTML+="</div>";container.after(kboardTop);kboardTop.after(kboardMid);kboardMid.after(kboardLow);
let box=0,start=0,end=start+5,boxes=document.querySelectorAll(".box"),keys="abcdefghijklmnopqrstuvwxyz".split("");const oneDay=864E5,firstDate=(new Date(" Feb 06 2022")).setHours(0,0,0,0),secondDate=(new Date).setHours(0,0,0,0),diffDays=Math.round(Math.abs((firstDate-secondDate)/oneDay));
let theWord=Array.from(wordList[diffDays]),copy=Array.from(theWord),wordLength=5,inputWord=[],rowPad=0,lettersCorect=0,enterKeyWorks=!1,greenKeys=[],blackKeys=[],orangeKeys=[],score=localStorage.getObj("storeScore")||{gamesPlayed:0,level:0};window.onkeydown=a=>{"Enter"==a.key&&enterPressed(a.key);makeWord(a.key)};
function makeWord(a){if(-1!=keys.indexOf(a)&&box<end){if(29<box||lettersCorect>=wordLength)return;0==box%wordLength&&(enterKeyWorks=!0);boxes[box].classList.add("darkBorder");boxes[box++].innerHTML=a;inputWord.push(a)}"Backspace"==a&&box>start&&(inputWord.pop(),boxes[--box].innerHTML="",boxes[box].classList.remove("darkBorder"))}
function enterPressed(a){25<rowPad||(inputWord.length<wordLength?alert("Word too short"):isInWordList()?"Enter"==a&&0==box%wordLength&&box<=boxes.length&&enterKeyWorks&&(enterKeyWorks=!enterKeyWorks,start+=5,end+=5,checkWord()):alert("Not in word list."))}
function checkWord(){copy=Array.from(theWord);inputWord.forEach((a,b,c)=>{inputWord[b]==theWord[b]?(greenKeys.push(inputWord[b]),boxes[b+rowPad].classList.add("green"),copy[b]=null,inputWord[b]="*",lettersCorect++==wordLength-1&&winner()):(boxes[b+rowPad].classList.add("black"),blackKeys.push(inputWord[b]),lettersCorect=0)});orange();inputWord.length=0;rowPad+=5;setKeyCoulors();lettersCorect<wordLength-1&&box>boxes.length-1&&setTimeout(()=>alert("Never mind dear, the word is "+theWord.join("").toUpperCase()),
1E3)}function orange(){for(let a=0;a<wordLength;a++){let b=copy.indexOf(inputWord[a]);-1!=b&&(boxes[a+rowPad].classList.add("yellow"),orangeKeys.push(inputWord[a]),copy[b]="]")}}function isInWordList(){let a=inputWord.join("");return wordList.includes(a)||Ta.includes(a)?!0:!1}function winner(){score.gamesPlayed++;score.level=rowPad+wordLength;localStorage.setObj("storeScore",score);let a=localStorage.getObj("storeScore");alert(`Well done dear,
               games played: ${a.gamesPlayed},
               Score: ${a.level}`)}let pads=document.querySelectorAll(".pad");
function setKeyCoulors(){for(let a=0;a<pads.length;a++)blackKeys.includes(pads[a].getAttribute("data-l"))&&pads[a].classList.add("blackKey"),orangeKeys.includes(pads[a].getAttribute("data-l"))&&(pads[a].classList.remove("blackKey"),pads[a].classList.add("orangeKey")),greenKeys.includes(pads[a].getAttribute("data-l"))&&(pads[a].classList.remove("blackKey"),pads[a].classList.remove("orangeKey"),pads[a].classList.add("greenKey"))}let letter;
window.addEventListener("click",a=>{a.target.hasAttribute("data-l")&&(letter=a.target.getAttribute("data-l"));"Enter"==letter&&enterPressed(letter);makeWord(letter)});