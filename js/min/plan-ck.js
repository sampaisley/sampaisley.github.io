function initDrag(e){var t=document.querySelector(e),n;n=new Draggabilly(t,{})}var i=0,del=!1,Draggabilly,plan=document.querySelector("#plan"),select=document.querySelector("#select"),selectedItem="youAre",add=function(){i>=30&&(i=0);var e=document.createElement("p"),t;switch(selectedItem){case"youAre":t="youAreHere"+i++,e.innerHTML="<p class='inner'></p>";break;case"Hydrent":t="hydrent"+i++;break;case"smoke":t="smoke"+i++;break;case"smoke_e":t="smoke_e"+i++;break;case"firePoint":t="firePoint"+i++}e.setAttribute("class",t),plan.appendChild(e),initDrag("."+t)};document.querySelector("#add").onclick=add,select.onchange=function(){selectedItem=this.value,add()},window.onkeydown=function(e){90===e.which&&(del=!0),"P"===e.target.nodeName&&e.target.classList.add("beGone")},window.onkeyup=function(e){del=!1,e.target.classList.remove("beGone")},plan.onclick=function(e){del&&"P"===e.target.nodeName&&(e.target.classList.remove("beGone"),"inner"===e.target.className?(e.target.parentElement.parentElement.removeChild(e.target.parentElement),i--):(e.target.parentElement.removeChild(e.target),i--))},plan.onmouseover=function(e){del&&"P"===e.target.nodeName&&e.target.classList.add("beGone")},plan.onmouseout=function(e){del&&"P"===e.target.nodeName&&(e.target.classList.remove("beGone"),e.target.parentElement.removeChild(e.target),i--)};