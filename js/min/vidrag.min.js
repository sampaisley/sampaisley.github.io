'use strict';let seekBar=$("#seekBar"),info_pos=$("#info_pos"),playStop2=0,playPause=$("#playPause"),vid1=$("#vid1"),vidLength,hours=0,mins=0,secs=0,xPercent=0,rect=seekBar.getRect(),infoRect=$("#vid").getRect(),fin=rect.right,seekBg=1.5;infoRect.bottom>screen.height?$("#info").putClass("d-none"):$("#info").takeClass("d-none");let x="";setTimeout(afterVidLoad,500);vid1.on("loadeddata",function(){2<=vid1.readyState()&&afterVidLoad("dataload ")});
function afterVidLoad(a="time "){x+=a+" - "+vid1.readyState()+" ";$("#info_length").text(vid1.duration().toFixed(1));vidLength=Math.round(vid1.duration());60<vidLength&&(mins=Math.round(vidLength/60),secs=vidLength%60,$("#info_length").text(mins+" : "+secs))}seekBar.on("mousedown",function(){seekBar.on("mousemove",move).putClass("dragCurser")});seekBar.on("mouseup",function(){},!0);window.addEventListener("mouseup",function(a){seekBar.off("mousemove",move).takeClass("dragCurser")});
function move(a){xPercent=Math.round(100*(a.clientX-rect.x)/rect.width);0<=xPercent&&100>=xPercent&&(seekBar.css({"background-size":` ${xPercent}% ${seekBg}em`}),vid1.currentTime(vidLength/100*xPercent),info_pos.text(vid1.currentTime().toFixed(1)))}seekBar.on("click",move);
seekBar.on("touchmove",function(a){a=event.changedTouches[0];document.elementFromPoint(a.clientX,a.clientY);xPercent=Math.round(100*(a.clientX-rect.x)/rect.width);0<=xPercent&&100>=xPercent&&(seekBar.css({"background-size":` ${xPercent}% ${seekBg}em`}),vid1.currentTime(vidLength/100*xPercent),info_pos.text(vid1.currentTime().toFixed(1)))});$().window("resize",OrientChange);
function OrientChange(){rect=seekBar.getRect();fin=Math.round(rect.right);seekBar.css({"background-size":` ${xPercent}% ${seekBg}em`})}function resetControles(){playPause.text("Play");playStop2++}vid1.on("ended",function(){resetControles()});vid1.on("timeupdate",function(){xPercent=Math.ceil(vid1.currentTime()/vidLength*100);seekBar.css({"background-size":` ${xPercent}% ${seekBg}em`});mins=Math.floor(vid1.currentTime()/60);secs=(vid1.currentTime()%60).toFixed(1);info_pos.text(mins+" : "+secs)});
playPause.on("click",function(){0===playStop2++%2?(vid1.play(),playPause.text("Pause")):(playPause.text("Play"),vid1.pause())});$("#full").on("click",function(){fullScreen(document.getElementById("vid1"))});function fullScreen(a){a.requestFullscreen?a.requestFullscreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.msRequestFullscreen&&a.msRequestFullscreen()}vid1.on("click",function(){(document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement)&&closeFullscreen()});
function closeFullscreen(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()};